<html layout:decorate="~{layout/base}">
<head>
    <title>ë£¸ë©”ì´í¬ :: ì»¤ë®¤ë‹ˆí‹°</title>
</head>
</head>
<div layout:fragment="content" class="container my-3">

    <!-- ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ì‹œì‘ -->
    <div class="list-group p-3 mb-3">

        <!-- ì§‘ë“¤ì´ ê¸€ ì „ì²´ ê°œìˆ˜, ì •ë ¬ ì˜µì…˜ -->
        <div class="row mt-5 mb-3">
            <div class="col-12">
                <div class="d-flex justify-content-between">
                    <div class="align-text-bottom">
                        <span style="font-size: 18px;">ì „ì²´ 12,777</span>
                    </div>
                    <div>
                        <select class="form-select" style="width:150px;" name="sort">
                            <option value="">ìµœì‹ ìˆœ</option>
                            <option value="">ì¢‹ì•„ìš”ìˆœ</option>
                            <option value="">ì°¸ì—¬ìˆœ</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div th:each="community : ${houseCommList}">
            <a th:href="|/community/detail/${community.id}|" class="list-group-item list-group-item-action link-dark">

                <div class="d-flex w-100 justify-content-between mb-3 pt-2">
                    <h6 class="mb-1 fw-bold" style="max-width: 936px;
                                                    height: 19px;
                                                    display: -webkit-box;
                                                    overflow: hidden;
                                                    text-overflow: ellipsis;
                                                    -webkit-box-orient: vertical;
                                                    -webkit-line-clamp: 1;" th:text="${community.title}">
                        ë¶€ë“œëŸ¬ìš´ ë¶€ë¶€ì˜ ì‹œì„ ì´ ëŠê»´ì§€ëŠ”! 34í‰ êµ­ë¯¼ í‰í˜• ì§‘ê¾¸ë¯¸ê¸°!
                    </h6>
                    <small th:text="${#dates.format(community.createDate, 'yyyy-MM-dd')}">2024-01-01</small>
                </div>
                <div class="d-flex w-100 justify-content-start mb-3">
                    <img class="float-start img-thumbnail me-3" style="width: 130px; height: 130px; object-fit: cover;"
                         alt="..." th:if="${community.imageName == 'default.jpg'}" th:src="|/images/community/${community.imageName}|">
                    <img class="float-start img-thumbnail me-3" style="width: 130px; height: 130px; object-fit: cover;"
                         alt="..." th:if="${community.imageName != 'default.jpg'}" th:src="@{${community.imageName}}">
                    <p class="mb-1 text-secondary" style="height: 76px;
                                                          display: -webkit-box;
                                                          overflow: hidden;
                                                          text-overflow: ellipsis;
                                                          -webkit-box-orient: vertical;
                                                          -webkit-line-clamp: 3;" id="communityContent">
                        <script th:inline="javascript">
                            /* Thymeleafì—ì„œ content ë³€ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ JavaScript ë³€ìˆ˜ì— í• ë‹¹ */
                            var content = /*[[${community.content}]]*/'';
                            /* HTML íƒœê·¸ë¥¼ ì œê±°í•˜ëŠ” ì •ê·œì‹ */
                            var contentWithoutTags = content.replace(/<[^>]+>/g, '');
                            /* íƒœê·¸ê°€ ì œê±°ëœ ë‚´ìš©ì„ ì¶œë ¥ */
                            document.write(contentWithoutTags);
                        </script>
                    </p>
                </div>
                <div class="d-flex w-100 justify-content-between mb-2">
                    <div>
                        <small class="fw-bold">í™ê¸¸ë™</small>
                    </div>
                    <div>
                        <small>ğŸ‘€</small>
                        <small th:text="${community.viewCount}">7</small>
                        <small>|</small>
                        <small>â¤ï¸</small>
                        <small th:text="${community.likeCount}">7</small>
                    </div>
                </div>
            </a>
        </div>

        <!-- ê²€ìƒ‰, ê¸€ì“°ê¸° ë²„íŠ¼ ì˜ì—­ -->
        <div class="d-flex justify-content-between my-3">
            <!-- ê²€ìƒ‰ ì˜ì—­ -->
            <form id="form-search" class="row row-cols-sm-auto justify-content-start align-items-center">
                <input type="hidden" name="channelNo" value="" />
                <input type="hidden" name="page" value="" />
                <input type="hidden" name="rows" value="" />
                <input type="hidden" name="sort" value="" />
                <div class="col-12">
                    <select class="form-select" name="opt">
                        <option value="">ì„ íƒ</option>
                        <option value="title">ì œëª©</option>
                    </select>
                </div>
                <div class="col-12">
                    <input type="text" class="form-control" name="keyword" value="" />
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-outline-primary">ê²€ìƒ‰</button>
                </div>
            </form>
            <!-- ê¸€ì“°ê¸° ë²„íŠ¼ -->
            <a class="btn btn-outline-primary" th:href="@{/community/create}">ê¸€ì“°ê¸°</a>
        </div>

        <!-- í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ë°” -->
        <div class="row mb-3">
            <div class="col-12">
                <div>
                    <ul class="pagination justify-content-center">
                        <li class="page-item">
                            <a th:href="@{/}" class="page-link">ì´ì „</a>
                        </li>
                        <li class="page-item">
                            <a th:href="@{/}" class="page-link">1</a>
                        </li>
                        <li class="page-item">
                            <a th:href="@{/}" class="page-link">ë‹¤ìŒ</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--<script type="text/javascript" layout:fragment="script">
        /* content ë³€ìˆ˜ì— íƒœê·¸ê°€ í¬í•¨ëœ ë‚´ìš©ì„ ê°€ì ¸ì™€ì„œ JavaScript ë³€ìˆ˜ì— í• ë‹¹ */
        var content = document.getElementById('communityContent').textContent;
        /* HTML íƒœê·¸ë¥¼ ì œê±°í•˜ëŠ” ì •ê·œì‹ */
        var contentWithoutTags = content.replace(/<[^>]+>/g, '');
        /* ë°‘ì— ìœ„ì¹˜í•œ íƒœê·¸ì— íƒœê·¸ê°€ ì œê±°ëœ ë‚´ìš©ì„ ì¶œë ¥ */
        $(function() {
            $("#communityContent").text(contentWithoutTags);
        })
    </script>-->
</div>
</html>